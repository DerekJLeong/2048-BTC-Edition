(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),s=(a(16),a(1)),c=a(2),l=a(4),h=a(3),u=a(6),d=a(5),m=(a(7),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"numberWithCommas",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){var e=parseFloat(this.props.BTCUSD.toString().replace(/,/g,"")).toFixed(2);return r.a.createElement("div",{className:"btc_container"},r.a.createElement("div",{className:"btc_img"}),r.a.createElement("p",null,"$",this.numberWithCommas(e)))}}]),t}(n.Component)),v=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"score_container"},r.a.createElement("p",null,"SCORE"),r.a.createElement("p",null,this.props.score))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={board:null,score:0,gameOver:!1,message:"GOOD LUCK & HODL ON",bitcoin:0},a.initBoard=a.initBoard.bind(Object(u.a)(a)),a.handleTouchStart=a.handleTouchStart.bind(Object(u.a)(a)),a.handleTouchEnd=a.handleTouchEnd.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"initBoard",value:function(){var e=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];e=this.placeRandomStartNum(this.placeRandomStartNum(e)),this.setState({gameOver:!1,board:e,score:0})}},{key:"componentWillMount",value:function(){this.initBoard(),document.querySelector("body").addEventListener("keydown",this.handleKeyDown.bind(this))}},{key:"componentDidMount",value:function(){var e=this;this.getBitcoin(),this.interval=setInterval(function(){e.getBitcoin()},3e4)}},{key:"getBitcoin",value:function(){var e=this;fetch("https://api.coindesk.com/v1/bpi/currentprice.json").then(function(e){return e.json()}).then(function(t){return e.setState({bitcoin:t.bpi.USD.rate})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"handleRemoveAnimationCode",value:function(e){var t=[];return e.forEach(function(e){var a=[];e.forEach(function(e){e=e[1]?e[0]:e,a.push(e)}),t.push(a)}),t}},{key:"placeRandomStartNum",value:function(e){var t=this.getBlankCoordinate(e),a=t[Math.floor(Math.random()*t.length)],n=this.getRandomStartNum();return e[a[0]][a[1]]=[n,2],console.log(e),e}},{key:"getBlankCoordinate",value:function(e){for(var t=[],a=0;a<e.length;a++)for(var n=0;n<e[a].length;n++)0===e[a][n]&&t.push([a,n]);return t}},{key:"getRandomStartNum",value:function(){return Math.random()<.125?4:2}},{key:"initMove",value:function(e){this.setState({board:this.handleRemoveAnimationCode(this.state.board)}),this.move(e)}},{key:"move",value:function(e){var t=this.state.score;if(!this.state.gameOver){for(var a=0;a<e;++a)this.setState({board:this.counterClockwise90deg(this.state.board)});var n=this.moveTiles(this.state.board);if(this.boardMoved(this.state.board,n.newBoard)){var r=this.placeRandomStartNum(n.newBoard);this.checkForGameOver(r)?this.setState({board:r,gameOver:!0,message:"Game Over!"}):this.setState({board:r,score:t+=n.points})}this.checkForWin(this.state.score,this.state.bitcoin)&&this.setState({gameOver:!0,message:"You Won! Hodl On!"});for(var o=e;o<4;++o)this.setState({board:this.counterClockwise90deg(this.state.board)})}}},{key:"counterClockwise90deg",value:function(e){for(var t=e.length,a=e[0].length,n=[],r=0;r<t;++r){n.push([]);for(var o=0;o<a;o++)n[r][o]=e[o][a-r-1]}return n}},{key:"moveTiles",value:function(e){for(var t=[],a=0,n=0;n<e.length;n++){for(var r=[],o=e.length-1;o>=0;o--){var i=e[n][o];0===i?r.push(i):r.unshift(i)}t.push(r)}for(var s=0;s<2;s++)for(var c=0;c<t.length;c++)for(var l=0;l<t.length;l++)t[c][l]>0&&t[c][l]===t[c][l+1]?(t[c][l]=[t[c][l]+t[c][l+1],1],t[c][l+1]=0,a+=t[c][l][0]):0===t[c][l]&&t[c][l+1]>0&&(t[c][l]=t[c][l+1],t[c][l+1]=0);return{newBoard:t,points:a}}},{key:"checkForGameOver",value:function(e){var t=this.counterClockwise90deg(e),a=this.counterClockwise90deg(this.counterClockwise90deg(e)),n=this.counterClockwise90deg(this.counterClockwise90deg(this.counterClockwise90deg(e)));return![this.boardMoved(e,this.moveTiles(e).newBoard),this.boardMoved(t,this.moveTiles(t).newBoard),this.boardMoved(a,this.moveTiles(a).newBoard),this.boardMoved(n,this.moveTiles(n).newBoard)].includes(!0)}},{key:"boardMoved",value:function(e,t){return JSON.stringify(t)!==JSON.stringify(e)}},{key:"checkForWin",value:function(e,t){return e>=parseFloat(t.replace(/,/g,""))}},{key:"handleKeyDown",value:function(e){var t;e.keyCode>=37&&e.keyCode<=41?(t=e.keyCode-37,this.initMove(t)):78===e.keyCode&&this.initBoard()}},{key:"handleTouchStart",value:function(e){this.state.board.gameOver||1===e.touches.length&&(this.startX=e.touches[0].screenX,this.startY=e.touches[0].screenY)}},{key:"handleTouchEnd",value:function(e){if(!this.state.board.gameOver&&1===e.changedTouches.length){var t=e.changedTouches[0].screenX-this.startX,a=e.changedTouches[0].screenY-this.startY;Math.abs(t)>3*Math.abs(a)&&Math.abs(t)>30?t>0?2:0:Math.abs(a)>3*Math.abs(t)&&Math.abs(a)>30&&(a>0?3:1)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"game_container"},r.a.createElement("div",{className:"top_container"},r.a.createElement(m,{BTCUSD:this.state.bitcoin}),r.a.createElement(v,{score:this.state.score}),r.a.createElement("p",{className:"intro",onClick:this.initMove.bind(this)},"Join the numbers together and get a score ",r.a.createElement("br",null),"greater than the ",r.a.createElement("b",null,"current USD/Bitcoin price!")),r.a.createElement("div",{className:"reset_button",onClick:this.initBoard,onTouchEnd:this.initBoard},"New Game")),r.a.createElement("div",{className:"middle_container"},r.a.createElement("table",{className:"game_board",onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,tabIndex:"1"},this.state.board.map(function(e,t){return r.a.createElement("tr",{key:t},e.map(function(e,t){return r.a.createElement(f,{key:t,cellValue:e[1]?e[0]:e,matched:1===e[1],isNew:2===e[1]})}))})),r.a.createElement(g,this.state)),r.a.createElement("div",{className:"bottom_container"},r.a.createElement("p",{className:"game_explanation"},r.a.createElement("b",null,"How to play:")," Use your",r.a.createElement("b",null," arrow keys")," to move the tiles. When two tiles with the same number touch, they",r.a.createElement("b",null," merge into one!")),r.a.createElement("hr",null),r.a.createElement("p",{className:"game_credits"},r.a.createElement("b",null,"Note:")," The game on"," ",r.a.createElement("a",{href:"http://git.io/2048",target:" blank",rel:"noopener noreferrer"},"this site")," ","is the original version of 2048. 2048 Bitcoin Edition is a derivative inspired by the original, created by"," ",r.a.createElement("a",{href:"http://gabrielecirulli.com",target:" blank",rel:"noopener noreferrer"},"Gabriele Cirulli"),". Based on"," ",r.a.createElement("a",{href:"https://itunes.apple.com/us/app/1024!/id823499224",target:"_blank",rel:"noopener noreferrer"},"1024 by Veewo Studio")," ","and conceptually similar to"," ",r.a.createElement("a",{href:"http://asherv.com/threes/",target:"_blank",rel:"noopener noreferrer"},"Threes by Asher Vollmer"),"."),r.a.createElement("hr",null),r.a.createElement("p",null,"Created by"," ",r.a.createElement("a",{href:"http://derekjleong.tech/",target:" blank",rel:"noopener noreferrer"},"\xa9 2019 Developed by Derek J Leong"))))}}]),t}(r.a.Component);function g(e){return r.a.createElement("div",null,e.gameOver?r.a.createElement("div",{className:"modal_container"},r.a.createElement("p",{className:"modal_message"},e.message)):null)}var f=function(e){var t=e.cellValue,a=e.matched,n="tile",o=0===t?"":t;return e.isNew&&(n+=" new"),a&&(n+=" matched"),o&&(n+=" color_".concat(o)),o>2048&&(n+=" color_super"),r.a.createElement("td",{className:"cell"},r.a.createElement("div",{className:n},o))},p=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.b119c4cf.chunk.js.map